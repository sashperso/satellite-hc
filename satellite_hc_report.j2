Satellite Health Check Report

#TODO - check if facts work for Satellite#
This is a health check report for the {{ ansible_hostname }} Satellite server conducted on a {{ ansible_distribution }} {{ansible_distribution_version }} instance, at {{ ansible_date_time.time }} on {{ ansible_date_time.date }}.

Analysis

Test: {{ test_result.stdout | to_nice_yaml }} 

Satellite Configuration

Satellite System Requirements
Investigation: What version of RHEL is the Satellite server running on? What is the architecture? Is the CPU suitable to the Satellite server? is the hostname unique?
Observation:
Host and RHEL version details:
{{ result_system_reqs.stdout_lines | to_nice_yaml }}
The CPU usage information is as follows:
{{ result_system_cpu.stdout | to_nice_yaml}}
Guidance: #TODO#
Rationale: #TODO#

Satellite and Capsule Architecture
Investigation: List the names and urls of the Satellite and Capsule servers. List the organisations linked to the Satellite and Capsule servers.
Observation: 
{{ result_capsule_list.stdout_lines | to_nice_yaml }}
{{ result_organization_list.stdout_lines | to_nice_yaml }}
NOTE - for more information on a given organisation, run `hammer organization info --id <id_number>`

Guidance: #TODO#
Rationale: #TODO#

Satellite Version 
Investigation: What is the currently installed Satellite version on the Satellite server and the capsules? What was the initial installation version?
Observation: 
{{ result_satellite_version.stdout_lines | to_nice_yaml }} is installed on the Satellite server.
{% if result_capsule_version.failed == false %}
{{ result_capsule_version.stdout_lines | to_nice_yaml }} is installed on the Capsule server.
{% else %}
Package satellite-capsule is not installed.
{% endif %}

Guidance: #TODO#
Rationale: #TODO#

Firewalls and Proxy
Investigation: Is firewalling appropriately configured for the Satellite and Capsule servers? Is the proxy server able to access cdn.redhat.com and subscription.rhsm.redhat.com directly without SSL termination? Are the required ports open? Are any optional ports opened?
Observation: {{ result_firewall_ports.stdout | to_nice_yaml }}

Guidance:
Generally, the following 12 ports should be open on the firewall:
  - 80/tcp
  - 443/tcp
  - 5647/tcp
  - 8000/tcp
  - 8140/tcp 
  - 8443/tcp
  - 9090/tcp
  - 53/tcp
  - 53/udp
  - 67/udp
  - 69/udp
  - 5000/tcp
Rationale: #TODO#

Infrastructure

Infrastructure Architecture
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Network Requirements
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Custom Hierarchies
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Storage

Qpidd Storage
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Backup/Restore Procedures
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Host Management

Remote Execution
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Download Policy
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Tainted Kernels
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Provisioning
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Errata
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Managed Host Logging
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Satellite Management

Repositories
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Satellite Logging
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Lifecycle Environments
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Patch Cycles
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Sync Plans
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Activation Keys
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#

Host Groups
Investigation: #TODO#
Observation: #TODO#
Guidance: #TODO#
Rationale: #TODO#
